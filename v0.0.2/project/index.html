<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Project Setup · DrWatson</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>DrWatson</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li class="current"><a class="toctext" href>Project Setup</a><ul class="internal"><li><a class="toctext" href="#Default-Project-Setup-1">Default Project Setup</a></li><li><a class="toctext" href="#Initializing-a-Project-1">Initializing a Project</a></li><li><a class="toctext" href="#Activating-a-Project-1">Activating a Project</a></li><li><a class="toctext" href="#Navigating-a-Project-1">Navigating a Project</a></li><li><a class="toctext" href="#Reproducibility-1">Reproducibility</a></li></ul></li><li><a class="toctext" href="../savenames/">Handling Simulations</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Project Setup</a></li></ul><a class="edit-page" href="https://github.com/JuliaDynamics/DrWatson.jl/blob/master/docs/src/project.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Project Setup</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Project-Setup-1" href="#Project-Setup-1">Project Setup</a></h1><p>Part of the functionality of DrWatson is creating and navigating through a project setup consistently. This works even if you move your project to a different location/computer and in addition the navigation process is identical across any project that uses DrWatson.</p><p>For this to work, you only need to follow these rules:</p><ol><li><strong>Your science project is also a Julia project defined by a <code>Project.toml</code> file.</strong></li><li><strong>You first activate this project environment before running any code.</strong> See <a href="#Activating-a-Project-1">Activating a Project</a> for ways to do this.</li><li><strong>You use the functions <code>scriptdir</code>, <code>datadir</code>, etc. from DrWatson</strong> (see <a href="#Navigating-a-Project-1">Navigating a Project</a>)</li></ol><h2><a class="nav-anchor" id="Default-Project-Setup-1" href="#Default-Project-Setup-1">Default Project Setup</a></h2><p>Here is the default project setup that DrWatson suggests (and assumes, for the functionality of this page):</p><div></div><div><pre><code class="language-none">|projectdir          &lt;- Project&#39;s main folder. It is initialized as a Git
|                       repository with a reasonable .gitignore file.
│
├── _research        &lt;- folder for WIP scripts, code, notes, comments,
|                       to-dos and anything in an alpha state
│
├── data             &lt;- Folder that contains all data. **Immutable and add-only!**
│   ├── simulations  &lt;- Data resulting directly from simulations
│   ├── exp_pro      &lt;- Data from processing experiments
│   └── exp_raw      &lt;- Raw experimental data
│
|
├── videos           &lt;- self-explanatory
├── plots            &lt;- self-explanatory
├── notebooks        &lt;- Jupyter, Weave or any other mixed media notebooks.
│
├── papers           &lt;- Scientific papers resulting from the project.
│
|
├── scripts          &lt;- Various scripts, e.g. simulations, plotting, analysis,
|   |                   The scripts use the `src` folder for their base code.
│   └── intro.jl     &lt;- simple file that uses DrWatson and uses its greeting.
|
├── src              &lt;- Source code for use in this project. Contains functions,
|                       structures and modules that are used throughout
|                       the project and in multiple scripts.
│
|
├── README.md        &lt;- Optional top-level README for anyone using this project.
├── .gitignore       &lt;- by default ignores _research, data, plots, videos,
|                       notebooks and latex-compilation related files.
|
├── Manifest.toml    &lt;- Contains full list of exact package versions used currently.
└── Project.toml     &lt;- Main project file, allows activation and installation.
                        Includes DrWatson by default.</code></pre></div><h3><a class="nav-anchor" id="src-vs-scripts-1" href="#src-vs-scripts-1"><code>src</code> vs <code>scripts</code></a></h3><p>Seems like <code>src</code> and <code>scripts</code> folders have pretty similar functionality. However there is a distinction between these two. You can follow these mental rules to know where to put <code>file.jl</code>:</p><ul><li>If upon <code>include(&quot;file.jl&quot;)</code> there is <em>anything</em> being produced, be it data files, plots or even output to the console, then it should be in <code>scripts</code>.</li><li>If it is functionality used across multiple files or pipelines, it should be in <code>src</code>.</li><li><code>src</code> should only contain files that define functions or types but not output anything. You can also organize <code>src</code> to be a Julia package, or contain multiple Julia packages.</li></ul><h2><a class="nav-anchor" id="Initializing-a-Project-1" href="#Initializing-a-Project-1">Initializing a Project</a></h2><p>To initialize a project as described in the <a href="#Default-Project-Setup-1">Default Project Setup</a> section, we provide the following function:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DrWatson.initialize_project" href="#DrWatson.initialize_project"><code>DrWatson.initialize_project</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">initialize_project(path [, name]; kwargs...)</code></pre><p>Initialize a scientific project expected by <code>DrWatson</code> inside the given <code>path</code>. If its <code>name</code> is not given, it is assumed to be the folder&#39;s name.</p><p>The new project remains activated for you to immidiately add packages.</p><p><strong>Keywords</strong></p><ul><li><code>readme = true</code> : adds a README.md file.</li><li><code>authors = nothing</code> : if a string or container of strings, adds the authors in the Project.toml file.</li><li><code>force = false</code> : If the <code>path</code> is <em>not</em> empty then throw an error. If however <code>force</code> is <code>true</code> then recursively delete everything in the path and create the project.</li><li><code>git = true</code> : Make the project a Git repository.</li></ul></div></div></section><h2><a class="nav-anchor" id="Activating-a-Project-1" href="#Activating-a-Project-1">Activating a Project</a></h2><p>This part of DrWatson&#39;s functionality requires you to have your scientific project (and as a consequence, the Julia project) activated. This can be done in multiple ways:</p><ol><li>doing <code>Pkg.activate(&quot;path/to/project&quot;)</code> programmatically</li><li>using the startup flag <code>--project path</code> when starting Julia</li><li>by setting the <a href="https://docs.julialang.org/en/latest/manual/environment-variables/#JULIA_PROJECT-1"><code>JULIA_PROJECT</code></a> environment variable</li><li>using the functions <a href="@ref"><code>quickctivate</code></a> and <a href="#DrWatson.findproject"><code>findproject</code></a> offered by DrWatson.</li></ol><p>We highly recommend the fourth approach. Here is how it works: the function <a href="#DrWatson.quickactivate"><code>quickactivate</code></a> activates a project given some path by recursively searching the path and its parents for a valid <code>Project.toml</code> file. Typically you put this function in your script files like so:</p><pre><code class="language-julia">using DrWatson # and any other package you use
quickactivate(@__DIR__)
# or
quickactivate(@__DIR__, &quot;Best project in the WORLLDD&quot;)</code></pre><p>where the second optional argument can assert if the activated project matches the name you provided, see below for more.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DrWatson.quickactivate" href="#DrWatson.quickactivate"><code>DrWatson.quickactivate</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">quickactivate(path [, name::String])</code></pre><p>Activate the project found by <a href="#DrWatson.findproject"><code>findproject</code></a> of the <code>path</code>. Optionally check if <code>name</code> is the same as the activated project&#39;s name. If it is not, throw an error.</p><p>This function is <em>first</em> activating the project and <em>then</em> checking if it matches the <code>name</code>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DrWatson.findproject" href="#DrWatson.findproject"><code>DrWatson.findproject</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">findproject(path = pwd()) -&gt; project_path</code></pre><p>Recursively search <code>path</code> and its parents for a valid Julia project file. If it is found return its path, otherwise issue a warning and return <code>nothing</code>.</p><p>The function stops searching if it hits either the home directory or the root directory.</p></div></div></section><h2><a class="nav-anchor" id="Navigating-a-Project-1" href="#Navigating-a-Project-1">Navigating a Project</a></h2><p>To be able to navigate the project consistently, DrWatson provides the following functions:</p><pre><code class="language-julia">datadir() = projectdir()*&quot;data/&quot;
srcdir() = projectdir()*&quot;src/&quot;
plotsdir() = projectdir()*&quot;plots/&quot;
scriptdir() = projectdir()*&quot;scripts/&quot;</code></pre><p>while as you can see all of them use <code>projectdir</code>:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DrWatson.projectdir" href="#DrWatson.projectdir"><code>DrWatson.projectdir</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">projectdir()</code></pre><p>Return the directory of the currently active project. Ends with <code>&quot;/&quot;</code>.</p></div></div></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="DrWatson.projectname" href="#DrWatson.projectname"><code>DrWatson.projectname</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">projectname()</code></pre><p>Return the name of the currently active project.</p></div></div></section><p>In addition, all these functions end with <code>/</code> by default. This means that you can directly chain them with a file name. E.g. you could do</p><pre><code class="language-julia">using DrWatson, FileIO
file = makesimulation()
FileIO.save(datadir()*&quot;simulations/test.jld2&quot;, file)</code></pre><h2><a class="nav-anchor" id="Reproducibility-1" href="#Reproducibility-1">Reproducibility</a></h2><p>This project setup approach that DrWatson suggests has a very big side-benefit: it is fully reproducible firstly because it uses Julia&#39;s suggested project structure and secondly because the navigation only uses local directories.</p><p>If you send your entire project folder to a colleague, they only need to do:</p><pre><code class="language-julia">julia&gt; cd(&quot;path/to/project&quot;)
pkg&gt; activate .
pkg&gt; instantiate</code></pre><p>All required packages and dependencies will be installed and then any script that was running in your computer will also be running in their computer <strong>in the same way!</strong></p><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Introduction</span></a><a class="next" href="../savenames/"><span class="direction">Next</span><span class="title">Handling Simulations</span></a></footer></article></body></html>
